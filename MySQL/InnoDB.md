# InnoDB

外键：如果没有为外键显示添加索引，InnoDB自动为外键创建索引，这样子避免表锁。

锁：InnoDB行级锁基于索引实现。



## 与MyISAM区别

- InnoDB支持事务，MyISAM不支持，对于InnoDB每一条SQL语言都默认封装成事务，自动提交，这样会影响速度，所以最好把多条SQL语言放在begin和commit之间，组成一个事务；

- InnoDB支持外键，而MyISAM不支持。对一个包含外键的InnoDB表转为MYISAM会失败；

- InnoDB支持数据行锁定，MyISAM不支持行锁定，只支持锁定整个表（表锁）。

- InnoDB是聚集索引，数据文件是和索引绑在一起的，必须要有主键，通过主键索引效率很高。但是辅助索引需要两次查询，先查询到主键，然后再通过主键查询到数据。因此，主键不应该过大，因为主键太大，其他索引也都会很大。而**MyISAM是非聚集索引，数据文件和索引是分离的，索引保存的是数据文件的指针。主键索引和辅助索引是独立的。**

  

- InnoDB不保存表的具体行数，执行select count(*) from table时需要全表扫描。而MyISAM用一个变量保存了整个表的行数，执行上述语句时只需要读出该变量即可，速度很快；

- Innodb不支持全文索引，而MyISAM支持全文索引，查询效率上MyISAM要高；

  