# Master选举

Master选举则是zookeeper中最为经典的使用场景了，在分布式环境中，相同的业务应用分布在不同的机器上，有些业务逻辑，例如一些耗时的计算，网络I/O处，往往只需要让整个集群中的某一台机器进行执行，其余机器可以共享这个结果，这样可以大大减少重复劳动，提高性能，于是这个master选举便是这种场景下的碰到的主要问题。

ZK可以用来进行Master选举，即帮忙集群中的机器选举出一个master。

**这个是怎么实现的呢？**

**利用Zookeeper的强一致性，能够很好的保证在分布式高并发的情况下创建节点，能够保证全局唯一性**。（在ZAB协议中每个事务请求是顺序执行的。假如一个事务请求来了，创建一个/config/server的节点，后面来了第二个事务请求，也是创建同样的节点，那么就会创建失败）

利用这特性，能够简单的实现Master选举，因为多个机器去尝试创建节点，只有一台机器能够创建成功，那么这台机器就成为了master。同时其他机器会watcher该节点，同于监听master机器是否存活，如果master挂了，那么就会重新选举master。













## 参考

http://blog.itpub.net/31509949/viewspace-2218265/