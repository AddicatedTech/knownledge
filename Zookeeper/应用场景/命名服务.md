# 命名服务

命名服务是指通过**指定的名字来获取服务的地址**。

利用Zookeeper非常容易创建一个全局的路径，而这个路径就能够作为一个名字。它能够指向集群中的集群。提供的服务的地址，远程对象等。简单来说使用Zookeeper做命名服务就是用路径作为名字，路径上的数据就是其名字指向的实体。



## Dubbo

Dubbo中使用ZooKeeper来作为其命名服务，维护全局的服务地址列表。在Dubbo实现中：

 **服务提供者**在启动的时候，向ZK上的指定节点/dubbo/${serviceName}/providers文件夹下写入自己的URL地址，这个操作就完毕了**服务的公布**。

 **服务消费者**启动的时候。**订阅**/dubbo/{serviceName}/providers文件夹下的提供者URL地址， 并向/dubbo/{serviceName} /consumers文件夹下写入自己的URL地址。

 注意，全部向ZK上注冊的地址都是暂时节点。这样就保证服务提供者和消费者可以自己主动感应资源的变化。

 另外，Dubbo还有针对服务粒度的监控。方法是订阅/dubbo/{serviceName}文件夹下全部提供者和消费者的信息。







##全局唯一ID

利用zookeeper顺序节点的特性，制作分布式的ID生成器，写过数据库应用的朋友都知道，我们在往数据库表中插入记录时，通常需要为该记录创建唯一的ID，在单机环境中我们可以利用数据库的主键自增功能。但在分布式环境则无法使用，有一种方式可以使用UUID，但是它的缺陷是没有规律，很难理解。利用zookeeper顺序节点的特性，我们可以生成有顺序的，容易理解的，同时全局唯一的序列号。





## 参考

https://www.cnblogs.com/yxwkf/p/4611377.html